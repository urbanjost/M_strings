#@(#) Makefile started by makeout(1) 2019-12-16 08:27:04
# generated by:   ...

NULL=
PROGFILES = \
../PROGRAMS/demo_adjustc.f90 \
../PROGRAMS/demo_base.f90 \
../PROGRAMS/demo_change.f90 \
../PROGRAMS/demo_chomp.f90 \
../PROGRAMS/demo_codebase.f90 \
../PROGRAMS/demo_compact.f90 \
../PROGRAMS/demo_crop.f90 \
../PROGRAMS/demo_decodebase.f90 \
../PROGRAMS/demo_delim.f90 \
../PROGRAMS/demo_describe.f90 \
../PROGRAMS/demo_expand.f90 \
../PROGRAMS/demo_fmt.f90 \
../PROGRAMS/demo_getvals.f90 \
../PROGRAMS/demo_indent.f90 \
../PROGRAMS/demo_isalnum.f90 \
../PROGRAMS/demo_isalpha.f90 \
../PROGRAMS/demo_isascii.f90 \
../PROGRAMS/demo_isblank.f90 \
../PROGRAMS/demo_iscntrl.f90 \
../PROGRAMS/demo_isdigit.f90 \
../PROGRAMS/demo_isgraph.f90 \
../PROGRAMS/demo_islower.f90 \
../PROGRAMS/demo_isnumber.f90 \
../PROGRAMS/demo_isprint.f90 \
../PROGRAMS/demo_ispunct.f90 \
../PROGRAMS/demo_isspace.f90 \
../PROGRAMS/demo_isupper.f90 \
../PROGRAMS/demo_isxdigit.f90 \
../PROGRAMS/demo_join.f90 \
../PROGRAMS/demo_len_white.f90 \
../PROGRAMS/demo_lenset.f90 \
../PROGRAMS/demo_listout.f90 \
../PROGRAMS/demo_lower.f90 \
../PROGRAMS/demo_matchw.f90 \
../PROGRAMS/demo_merge_str.f90 \
../PROGRAMS/demo_modif.f90 \
../PROGRAMS/demo_msg.f90 \
../PROGRAMS/demo_noesc.f90 \
../PROGRAMS/demo_nospace.f90 \
../PROGRAMS/demo_notabs.f90 \
../PROGRAMS/demo_quote.f90 \
../PROGRAMS/demo_replace.f90 \
../PROGRAMS/demo_reverse.f90 \
../PROGRAMS/demo_rotate13.f90 \
../PROGRAMS/demo_s2c.f90 \
../PROGRAMS/demo_s2v.f90 \
../PROGRAMS/demo_s2vs.f90 \
../PROGRAMS/demo_split.f90 \
../PROGRAMS/demo_stretch.f90 \
../PROGRAMS/demo_string_to_value.f90 \
../PROGRAMS/demo_string_to_values.f90 \
../PROGRAMS/demo_strtok.f90 \
../PROGRAMS/demo_substitute.f90 \
../PROGRAMS/demo_switch.f90 \
../PROGRAMS/demo_transliterate.f90 \
../PROGRAMS/demo_unquote.f90 \
../PROGRAMS/demo_upper.f90 \
../PROGRAMS/demo_upper_quoted.f90 \
../PROGRAMS/demo_v2s.f90 \
../PROGRAMS/demo_value_to_string.f90 \
../PROGRAMS/demo_visible.f90 \
../PROGRAMS/demo_M_strings_oops.f90 \
$(NULL)

TESTFILES = ../test/test_suite_M_strings.f90
TEST = ${TESTFILES:.f90=}

CPROGFILES = 

PROG = ${PROGFILES:.f90=}

CPROG = ${CPROGFILES:.c=}

SRCS =  M_journal.f90 M_strings.f90 M_strings_oop.f90 

OBJS =  M_journal.o M_strings.o M_strings_oop.o 
# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # 
# platform-specific values you will probably change
# 
LIBS := 
CC := cc
CFLAGS := -O
FC := gfortran
FFLAGS := -O
F90 := gfortran
F90FLAGS := -O
LDFLAGS := 
# # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # # 
all: $(PROG) $(CPROG)
	@echo "That's all folks!"
$(PROG): $(OBJS)

	-$(F90) $(LDFLAGS) $@.f90 -o $@ $(OBJS) $(LIBS) # && ./$@ </dev/null

.PHONY: clean
clean:
	rm -f $(PROG) $(CPROG) $(OBJS) *.mod $(TEST)

.PHONY: help

help:
	: make    '-- build M_strings M_strings_oop module'
	: run     '-- run manpage demo programs and test program'
	: test    '-- run test program'
	: man     '-- show all manpages as text'
	: clean   '-- clean directory of object files and executables'
	: doxygen '-- run doxygen(1) if you have it'
	: help    '-- display this text'

.PHONY: run
run: $(PROG)
	# run everything
	echo $? |xargs -n 1|xargs -iXX 'time XX </dev/null'

.PHONY: test
test: $(OBJS)
	# compile and load
	$(F90) $(LDFLAGS) $(TESTFILES) -o ${TESTFILES:.f90=} $(OBJS) $(LIBS)
	# run 
	${TESTFILES:.f90=}

.PHONY: doxygen
doxygen: 
	doxygen dox.in

.PHONY: man
man:
	@mandb ../man 1>&2
	@env MANPATH=../man MANWIDTH=256 man -k .|col -b
	@env MANPATH=../man MANWIDTH=80  man --regex '.*'|col -b

.SUFFIXES: $(SUFFIXES) .f90 .F90

.f90.o:
	$(F90) $(F90FLAGS) -c $<

.F90.o:
	$(F90) $(F90FLAGS) -c $<

M_strings.o: M_journal.o
M_strings_oop.o: M_strings.o
